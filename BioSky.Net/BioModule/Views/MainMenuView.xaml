<UserControl x:Class="BioModule.Views.MainMenuView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:BioModule.ViewModels"    
             xmlns:cal="http://www.caliburnproject.org"
             xmlns:langs="clr-namespace:BioModule.Resources.langs"
             xmlns:lex="http://wpflocalizeextension.codeplex.com"             
             lex:LocalizeDictionary.DesignCulture="ru-RU"
             lex:ResxLocalizationProvider.DefaultAssembly="BioModule"
             lex:ResxLocalizationProvider.DefaultDictionary="lang"
             mc:Ignorable="d" 
             d:DesignHeight="50" d:DesignWidth="250"
             d:DataContext="{d:DesignInstance vm:MainMenuViewModel, IsDesignTimeCreatable=False}">



    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Menu Grid.Row="0" Grid.Column="0" 
                  Margin="5,5,0,5"
                  VerticalAlignment="Stretch"
                  HorizontalAlignment="Left">
            <MenuItem Header="{lex:Loc File}">
                <MenuItem Header="Add">
                    <MenuItem Header="User" cal:Message.Attach="[Event Click] = [Action OpenTabAddNewPerson]"/>
                    <MenuItem Header="Location" cal:Message.Attach="[Event Click] = [Action OpenTabAddNewLocation]"/>
                </MenuItem>
                <Separator></Separator>
                <MenuItem Header="Log In"></MenuItem>
                <MenuItem Header="Log Out"></MenuItem>
                <Separator></Separator>
                <MenuItem Header="Exit"/>
            </MenuItem>
            <MenuItem Header="{lex:Loc Edit}"
                          />
            <MenuItem Header="{lex:Loc View}" 
                          >
                <MenuItem Header="Settings" 
                          cal:Message.Attach="[Event Click] = [Action OpenFlayoutSettings]" />
                <MenuItem Header="Tracking" 
                          cal:Message.Attach="[Event Click] = [Action OpenTabTrack]"/>
                <MenuItem Header="Users"
                          cal:Message.Attach="[Event Click] = [Action OpenTabUsers]"/>
                <MenuItem Header="Visitors" 
                          cal:Message.Attach="[Event Click] = [Action OpenTabVisitors]"/>
            </MenuItem>
            <MenuItem Header="{lex:Loc Help}">
                <MenuItem Header="About"
                          cal:Message.Attach="[Event Click] = [Action ShowAboutDialog]"/>
                <MenuItem Header="AreYouSure"
                          cal:Message.Attach="[Event Click] = [Action ShowAreYouSure]"/>
                <MenuItem Header="CustomDialog"
                          cal:Message.Attach="[Event Click] = [Action ShowCustomDialog]"/>
                <MenuItem Header="Password"
                          cal:Message.Attach="[Event Click] = [Action ShowLoginDialogPasswordPreview]"/>
                <MenuItem Header="ProgressDialog"
                          cal:Message.Attach="[Event Click] = [Action ShowProgressDialog]"/>

            </MenuItem>
        </Menu>
        <ComboBox Grid.Row="0" Grid.Column="1" SelectedItem="{Binding SelectedLanguage}"
                  cal:Message.Attach="[Event SelectionChanged] = [Action LanguageChanged]"
                  ItemsSource="{Binding Languages}"
                  >
        </ComboBox>
        <Label Grid.Row="0" Grid.Column="2" Content="{lex:Loc AddPerson}"></Label>
        <TextBlock 
                x:Name="CultureTextBlock"
                Grid.Column="4"
                Text="{lex:Loc Test}" />
    </Grid>
</UserControl>
